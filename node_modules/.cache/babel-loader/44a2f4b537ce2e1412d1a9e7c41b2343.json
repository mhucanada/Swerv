{"ast":null,"code":"var _jsxFileName = \"/home/mhucanada/Projects/deltahacks-master/src/components/Result.js\";\nimport React from \"react\";\nimport cold from \"./cold.png\";\nimport hot from \"./hot.png\";\n\nvar mqtt = require('mqtt');\n\nvar client = mqtt.connect('wss://test.mosquitto.org:8081');\nclient.on(\"connect\", () => {\n  client.subscribe(\"test/temp\");\n  console.log(\"nice\");\n});\nconst images = [cold, hot];\nvar sensorTemp = \"\";\nclient.on(\"message\", (topic, payload) => {\n  sensorTemp = payload.toString();\n  console.log(sensorTemp);\n\n  function whichImage() {\n    if (parseFloat(payload) > 28) {\n      function myFunction() {\n        setInterval(myTimer, 1000);\n      }\n\n      myFunction();\n\n      function myTimer() {\n        waterSaved += flowRate;\n        document.getElementById(\"demo\").innerHTML = waterSaved;\n      }\n\n      ;\n      imageSource = images[1];\n    } else {\n      imageSource = images[0];\n    }\n\n    window.onload = function savedWater() {\n      document.getElementById(\"demo\").innerHTML = waterSaved;\n    };\n\n    return imageSource;\n  }\n\n  ;\n  whichImage();\n});\nconsole.log(sensorTemp);\nconst temperatures = [29, 31];\nconst testTemp = 31;\nvar imageSource = \"\";\nvar power = true;\nvar waterSaved = 0;\nvar flowRate = 30; // function whichImage() {\n//     imageSource = images[0];\n//     while (testTemp > 30) {\n//         function myFunction() { \n//             setInterval(myTimer, 1000);\n//         }\n//         myFunction();\n//         function myTimer() {\n//             waterSaved += flowRate;\n//             document.getElementById(\"demo\").innerHTML = waterSaved\n//         };\n//         imageSource = images[1];\n//         return imageSource;\n//     };\n//     window.onload = function savedWater(){\n//     document.getElementById(\"demo\").innerHTML = waterSaved;\n//     };\n//     return imageSource;\n// };\n// const chooseImage = whichImage();\n\nconst Result = props => React.createElement(\"div\", {\n  className: \"result\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 96\n  },\n  __self: this\n}, React.createElement(\"br\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 97\n  },\n  __self: this\n}), React.createElement(\"p\", {\n  className: \"pad\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 98\n  },\n  __self: this\n}, \"Current state:\"), React.createElement(\"img\", {\n  src: imageSource,\n  height: \"480\",\n  width: \"630\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 99\n  },\n  __self: this\n}), React.createElement(\"br\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 100\n  },\n  __self: this\n}), props.saved && React.createElement(\"p\", {\n  className: \"result__key\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 102\n  },\n  __self: this\n}, \"The flow rate is currently at:\", React.createElement(\"span\", {\n  className: \"result__value\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 103\n  },\n  __self: this\n}, \" \", props.saved), \" L/s\"), props.error && React.createElement(\"p\", {\n  className: \"result__key\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 106\n  },\n  __self: this\n}, \"Error:\", React.createElement(\"span\", {\n  className: \"result__value\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 107\n  },\n  __self: this\n}, \" \", props.error)), React.createElement(\"p\", {\n  id: \"demo\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 109\n  },\n  __self: this\n}));\n\nexport default Result;","map":{"version":3,"sources":["/home/mhucanada/Projects/deltahacks-master/src/components/Result.js"],"names":["React","cold","hot","mqtt","require","client","connect","on","subscribe","console","log","images","sensorTemp","topic","payload","toString","whichImage","parseFloat","myFunction","setInterval","myTimer","waterSaved","flowRate","document","getElementById","innerHTML","imageSource","window","onload","savedWater","temperatures","testTemp","power","Result","props","saved","error"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport cold from \"./cold.png\";\nimport hot from \"./hot.png\";\n\nvar mqtt = require('mqtt');\nvar client = mqtt.connect('wss://test.mosquitto.org:8081');\n\n\n\nclient.on(\"connect\", () => {\n    client.subscribe(\"test/temp\");\n    console.log(\"nice\");\n})\n\n\n\nconst images = [\n    cold,\n    hot,\n]\n\nvar sensorTemp = \"\";\n\nclient.on(\"message\", (topic, payload) => {\n    sensorTemp = payload.toString();\n    console.log(sensorTemp)\n\n\n\n    function whichImage() {\n\n        if (parseFloat(payload) > 28) {\n            function myFunction() {\n                setInterval(myTimer, 1000);\n            }\n            myFunction();\n            function myTimer() {\n                waterSaved += flowRate;\n                document.getElementById(\"demo\").innerHTML = waterSaved\n            };\n            imageSource = images[1];\n     \n        } else {\n            imageSource = images[0];\n        }\n        window.onload = function savedWater() {\n            document.getElementById(\"demo\").innerHTML = waterSaved;\n        };\n        return imageSource;\n    };\n    whichImage();\n})\n\nconsole.log(sensorTemp)\n\n\n\n\n\nconst temperatures = [\n    29,\n    31,\n]\n\nconst testTemp = 31;\nvar imageSource = \"\";\nvar power = true;\nvar waterSaved = 0;\nvar flowRate = 30;\n\n// function whichImage() {\n//     imageSource = images[0];\n//     while (testTemp > 30) {\n//         function myFunction() { \n//             setInterval(myTimer, 1000);\n//         }\n//         myFunction();\n//         function myTimer() {\n//             waterSaved += flowRate;\n//             document.getElementById(\"demo\").innerHTML = waterSaved\n//         };\n//         imageSource = images[1];\n//         return imageSource;\n//     };\n//     window.onload = function savedWater(){\n//     document.getElementById(\"demo\").innerHTML = waterSaved;\n//     };\n\n//     return imageSource;\n// };\n\n// const chooseImage = whichImage();\n\n\nconst Result = props => (\n    <div className=\"result\">\n        <br></br>\n        <p className=\"pad\">Current state:</p>\n        <img src={imageSource} height=\"480\" width=\"630\"></img>\n        <br></br>\n        {props.saved &&\n            <p className=\"result__key\">The flow rate is currently at:\n            <span className=\"result__value\"> {props.saved}</span> L/s\n        </p>}\n        {props.error &&\n            <p className=\"result__key\">Error:\n            <span className=\"result__value\"> {props.error}</span>\n            </p>}\n        <p id=\"demo\"></p>\n    </div>\n);\n\n\nexport default Result;"]},"metadata":{},"sourceType":"module"}